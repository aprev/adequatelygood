<p>When I interview web developers, my first JavaScript question is usually the following:</p>
<blockquote>What is the difference, in JavaScript, between <code class="js inline">x = 1</code> and <code class="js inline">var x = 1</code>.  Feel free to answer in as much or as little detail as you feel comfortable.</blockquote>
<p>Most people would give an answer about how the <code class="js inline">var</code> keyword makes something a local variable, omitting it makes it a global variable.  While I'd love to hear about scope chains, the window object, and hear the term "implied global" in an answer, that basic answer is good enough.  It might not show a thorough knowledge of JavaScript, but at least it shows some level of understanding of the most common dangerous feature.</p>
<p>There are three basic ways to make a global variable in JavaScript.  You can use <code class="js inline">var</code> (<strong>declared global</strong>), you can just assign to it without having declared it (<strong>implied global</strong>), or you can set a property on the <code class="js inline">window</code> object (<strong>window global</strong>).  Here's those three:</p>
<pre class="js inline">var x = 1; // declared global
y = 2; // implied global
window.z = 3; // window global</pre>
<p>Implied globals are bad because they're hard to keep track of, and their declarations aren't <a href="">hoisted</a>(TODO: link).  I don't like window globals either, if you're using them both as global variables and as properties of <code class="js">window</code>.  In my opinion, <strong>all globals should be declared globals</strong>.  Unfortunately, JavaScript makes this really hard to maintain.  There are tools like <a href="http://www.jslint.com/">JSLint</a> that will perform analysis of your code and help you out, but it can't do an entire code base at once.</p>
<p>I've written a tool that performs <strong>run-time analysis</strong> of your application, and finds all of the improperly declared globals (implied and window globals).  Find a demo <a href="http://www.bcherry.net/badglobals">here</a>.  The script, <a href="">badglobals.js</a>(TODO: link), needs to be included before all the scripts you want to check for bad globals.  This is because it performs analysis when it is included, and builds an "exclude" list of all the current global variables, to avoid looking at browser built-ins.  When you're ready to check your application, just call <code class="js inline">BADGLOBALS.check()</code> with Firebug open.